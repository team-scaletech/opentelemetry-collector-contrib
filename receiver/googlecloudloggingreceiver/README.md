# Google Cloud Logging Receiver

<!-- status autogenerated section -->
| Status        |           |
| ------------- |-----------|
| Stability     | [development]: logs   |
| Distributions | [contrib] |
| Issues        | [![Open issues](https://img.shields.io/github/issues-search/open-telemetry/opentelemetry-collector-contrib?query=is%3Aissue%20is%3Aopen%20label%3Areceiver%2Fgooglecloudmonitoring%20&label=open&color=orange&logo=opentelemetry)](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues?q=is%3Aopen+is%3Aissue+label%3Areceiver%2Fgooglecloudmonitoring) [![Closed issues](https://img.shields.io/github/issues-search/open-telemetry/opentelemetry-collector-contrib?query=is%3Aissue%20is%3Aclosed%20label%3Areceiver%2Fgooglecloudmonitoring%20&label=closed&color=blue&logo=opentelemetry)](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues?q=is%3Aclosed+is%3Aissue+label%3Areceiver%2Fgooglecloudmonitoring) |
| [Code Owners](https://github.com/open-telemetry/opentelemetry-collector-contrib/blob/main/CONTRIBUTING.md#becoming-a-code-owner)    | [@dashpole](https://www.github.com/dashpole), [@TylerHelmuth](https://www.github.com/TylerHelmuth), [@datsabk](https://www.github.com/datsabk) |

[development]: https://github.com/open-telemetry/opentelemetry-collector#development
[contrib]: https://github.com/open-telemetry/opentelemetry-collector-releases/tree/main/distributions/otelcol-contrib
<!-- end autogenerated section -->

The primary objective of the Google Cloud Logging Receiver is to gather logs data from all Google Cloud Logging API and convert this data into a logs pipeline format that facilitates further use.

This receiver gets GCP (Google Clout Platform) logs from [GCP Logging List REST API] via the [Google SDK for GCP Logs] and then convert those logs data into OTel Format [Pipeline Data].

[GCP Logging List REST API]: https://cloud.google.com/logging/docs/reference/v2/rest/v2/entries/list
[Google SDK for GCP Logs]: https://pkg.go.dev/cloud.google.com/go/logging
[Pipeline Data]: https://pkg.go.dev/go.opentelemetry.io/collector/pdata

## Configuration

The following configuration options are supported:

```yaml
receivers:
  googlecloudlogging:
    collection_interval: 120s
    region: us-central1
    service_account_key: "path/to/service_account.json"
    resources:
      - resource_type: "cloudfunctions"
        resource_names:
          - "projects/my-project-id1"
          - "projects/my-project-id2"
        additionalFilters:
          - name: "resource.labels.service_name"
            value: "service-name"
          - name: "resource.labels.location"
            value: "us-east-1"
      - resource_type: "cloud_run_revision"
        resource_names:
          - "projects/my-project-id3"
          - "projects/my-project-id4"
        additionalFilters:
          - name: "resource.labels.service_name"
            value: "cloudwerx-function"
          - name: "resource.labels.location"
            value: "us-east1"
```

- `collection_interval` (Optional): The interval at which logs are collected. Default is 60s.
- `region` (Required): The GCP region where the services are located.
- `service_account_key` (Required): The path to the service account key JSON file.
- `services` (Required): A list of services to monitor.

Each resource type includes:
- `resource_type` (Required): Type of GCP resource (e.g., cloudfunctions).
- `resource_names` (Required): Names of specific resources.
- `additionalFilters` (Optional): Additional filters for resource attributes.


### Filtering

**Filter Parameter** :

A logging filter that specifies which logs should be returned. For example-

`filter: "resource.type = cloud_run_revision AND resource.labels.service_name = cloudwerx-function AND resource.labels.location = us-east1 AND (timestamp>\"2024-07-09T10:57:00.049539Z\")"`

**Request Body For Logs**:
```
{
  "resourceNames": [
    "projects/my-project-id1"
  ],
  "filter": "resource.type = cloud_run_revision AND resource.labels.service_name = cloudwerx-function AND resource.labels.location = us-east1 AND (timestamp>\"2024-07-09T10:57:00.049539Z\")"
}
```